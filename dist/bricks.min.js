/*!
 * Bricks.js 1.6.0 - A blazing fast masonry layout generator for fixed width elements.
 * Copyright (c) 2016 Michael Cavalea - https://github.com/callmecavs/bricks.js
 * License: MIT
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Bricks=n()}(this,function(){"use strict";var t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},n=function(){function n(t,n){return c[t]=c[t]||[],c[t].push(n),this}function e(t,e){return e._once=!0,n(t,e),this}function i(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return n?c[t].splice(c[t].indexOf(n),1):delete c[t],this}function o(t){for(var n=this,e=arguments.length,o=Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];var u=c[t]&&c[t].slice();return u&&u.forEach(function(e){e._once&&i(t,e),e.apply(n,o)}),this}var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c={};return t({},r,{on:n,once:e,off:i,emit:o})},e=function(){function t(t){t.forEach(function(t){return t()})}function e(t){var n=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return"String"==typeof t?g.call(n.querySelectorAll(t)):g.call(t)}function i(t){return Array.apply(null,Array(t)).map(function(){return 0})}function o(){return _.map(function(t){return t.mq&&window.matchMedia("(min-width: "+t.mq+")").matches}).indexOf(!0)}function r(){A=o()}function c(){O=A===-1?_[_.length-1]:_[A]}function u(){k=i(O.columns)}function a(){z=e(x?H.new:H.all)}function l(){0!==z.length&&(j=z[0].clientWidth,S=z.map(function(t){return t.clientHeight}))}function f(){z.forEach(function(t,n){b=k.indexOf(Math.min.apply(Math,k)),t.style.position="absolute",q=k[b]+"px",E=b*j+b*O.gutter+"px",B?(t.style.top=q,t.style.left=E):t.style.transform="translate3d("+E+", "+q+", 0)",t.setAttribute(L,""),M=S[n],M&&(k[b]+=M+O.gutter)})}function d(){F.style.position="relative",F.style.width=O.columns*j+(O.columns-1)*O.gutter+"px",F.style.height=Math.max.apply(Math,k)-O.gutter+"px"}function s(){w||(requestAnimationFrame(p),w=!0)}function p(){A!==o()&&(v(),W.emit("resize",O)),w=!1}function v(){return x=!1,t(P.concat(T)),W.emit("pack")}function h(){return x=!0,t(T),W.emit("update")}function m(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],n=t?"addEventListener":"removeEventListener";return window[n]("resize",s),W}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],g=Array.prototype.slice,x=void 0,w=void 0,A=void 0,O=void 0,b=void 0,k=void 0,q=void 0,E=void 0,M=void 0,z=void 0,j=void 0,S=void 0,L=0===y.packed.indexOf("data-")?y.packed:"data-"+y.packed,_=y.sizes.slice().reverse(),B=y.position!==!1,F=void 0,H=void 0;y.container.nodeType?(F=y.container,H={all:e(F.children),new:e(F.children).filter(function(t){return!t.hasAttribute(""+L)})}):(F=document.querySelector(y.container),H={all:y.container+" > *",new:y.container+" > *:not(["+L+"])"});var P=[r,c,u],T=[a,l,f,d],W=n({pack:v,update:h,resize:m});return W};return e});